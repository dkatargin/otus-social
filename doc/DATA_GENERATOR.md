# –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ª–µ–Ω—Ç—ã –ø–æ—Å—Ç–æ–≤

## –û–ø–∏—Å–∞–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç `generate_test_data.sh` —Å–æ–∑–¥–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –ª–µ–Ω—Ç—ã –ø–æ—Å—Ç–æ–≤ –¥—Ä—É–∑–µ–π:

- **–î—Ä—É–∂–±—ã**: —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –¥—Ä—É–∂–µ—Å–∫–∏–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ 1-5 (–≤—Å–µ–≥–æ 10 —Å–≤—è–∑–µ–π)
- **–ü–æ—Å—Ç—ã**: –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç 100,000 –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π 1-10

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### –û—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

–í–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç–æ–≥–æ Lorem Ipsum –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–∞ —à–∞–±–ª–æ–Ω–æ–≤ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º:

```go
// –ü—Ä–∏–º–µ—Ä—ã —à–∞–±–ª–æ–Ω–æ–≤ –ø–æ—Å—Ç–æ–≤
"–°–µ–≥–æ–¥–Ω—è –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–π –¥–µ–Ω—å! %s. –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –æ—Ç–ª–∏—á–Ω–æ–µ! üòä"
"–¢–æ–ª—å–∫–æ —á—Ç–æ –ø–æ—Å–µ—Ç–∏–ª %s. –í–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã–µ! –†–µ–∫–æ–º–µ–Ω–¥—É—é –≤—Å–µ–º."
"–ß–∏—Ç–∞—é –∏–Ω—Ç–µ—Ä–µ—Å–Ω—É—é –∫–Ω–∏–≥—É –ø—Ä–æ %s. –ö—Ç–æ-–Ω–∏–±—É–¥—å –µ—â—ë —á–∏—Ç–∞–ª —á—Ç–æ-—Ç–æ –ø–æ–¥–æ–±–Ω–æ–µ?"
```

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

1. **–¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–ª–æ–≤–∞**: –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è, –∫—É–ª–∏–Ω–∞—Ä–∏—è, –º—É–∑—ã–∫–∞, —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è, –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞, —Å–ø–æ—Ä—Ç, –ø—Ä–∏—Ä–æ–¥–∞...

2. **–ú–µ—Å—Ç–∞**: –ú–æ—Å–∫–≤–∞, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –≠—Ä–º–∏—Ç–∞–∂, –¢—Ä–µ—Ç—å—è–∫–æ–≤—Å–∫–∞—è –≥–∞–ª–µ—Ä–µ—è, –ø–∞—Ä–∫, –º—É–∑–µ–π, —Ç–µ–∞—Ç—Ä...

3. **–ï–¥–∞**: –±–æ—Ä—â, –ø–µ–ª—å–º–µ–Ω–∏, –±–ª–∏–Ω—ã, –∫–∞—à–∞, —Å—É–ø, —Å–∞–ª–∞—Ç, —Ñ—Ä—É–∫—Ç—ã...

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

- –≠–º–æ–¥–∑–∏ –∏ —Ö–µ—à—Ç–µ–≥–∏ (30% –ø–æ—Å—Ç–æ–≤)
- –í–æ–ø—Ä–æ—Å—ã –∫ –∞—É–¥–∏—Ç–æ—Ä–∏–∏
- –ü–æ–∑–∏—Ç–∏–≤–Ω—ã–µ –ø—Ä–∏–∑—ã–≤—ã –∫ –¥–µ–π—Å—Ç–≤–∏—é

## –ó–∞–ø—É—Å–∫

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **–ó–∞–ø—É—â–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä**:
```bash
cd src
./social-network --config ../etc/app.yaml
```

2. **–ó–∞–ø—É—â–µ–Ω–Ω—ã–π Redis**:
```bash
redis-server
# –∏–ª–∏ —á–µ—Ä–µ–∑ Docker
docker run -d -p 6379:6379 redis:latest
```

### –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

```bash
# –ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
./scripts/generate_test_data.sh
```

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
üöÄ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ª–µ–Ω—Ç—ã –ø–æ—Å—Ç–æ–≤
==============================================
üì° –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API —Å–µ—Ä–≤–µ—Ä–∞...
‚úÖ –°–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω
üì¶ –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Redis...
‚úÖ Redis –¥–æ—Å—Ç—É–ø–µ–Ω
üî® –ö–æ–º–ø–∏–ª–∏—Ä—É–µ–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–∞–Ω–Ω—ã—Ö...
‚úÖ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω

üéØ –ó–∞–ø—É—Å–∫–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
   - –î—Ä—É–∂–±—ã –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ 1-5
   - 100,000 –ø–æ—Å—Ç–æ–≤ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π 1-10

üìù –°–æ–∑–¥–∞—ë–º –¥—Ä—É–∂–±—ã –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ 1-5...
‚úì –î—Ä—É–∂–±–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 1 ‚Üî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 2
‚úì –î—Ä—É–∂–±–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 1 ‚Üî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 3
...
üì± –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º 100,000 –ø–æ—Å—Ç–æ–≤ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π 1-10...
üìä –ü—Ä–æ–≥—Ä–µ—Å—Å: 1000/100000 –ø–æ—Å—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω–æ (—É—Å–ø–µ—à–Ω–æ: 998, –æ—à–∏–±–æ–∫: 2)
üìä –ü—Ä–æ–≥—Ä–µ—Å—Å: 2000/100000 –ø–æ—Å—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω–æ (—É—Å–ø–µ—à–Ω–æ: 1996, –æ—à–∏–±–æ–∫: 4)
...
üìà –ò—Ç–æ–≥–æ —Å–æ–∑–¥–∞–Ω–æ –ø–æ—Å—Ç–æ–≤: 99847 —É—Å–ø–µ—à–Ω–æ, 153 –æ—à–∏–±–æ–∫

üéâ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –∑–∞ 145 —Å–µ–∫—É–Ω–¥!
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. **–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥—Ä—É–∂–±**:
   - –°–æ–∑–¥–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –¥—Ä—É–∂–±—É
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–¥–æ–±—Ä—è–µ—Ç –∏—Ö
   - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—é—é —Å–≤—è–∑—å

2. **–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–æ—Å—Ç–æ–≤**:
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —à–∞–±–ª–æ–Ω—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
   - –°–ª—É—á–∞–π–Ω–æ –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π 1-10
   - –î–æ–±–∞–≤–ª—è–µ—Ç —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ —Å –ø–æ–º–æ—â—å—é –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å–ª–æ–≤

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**:
   - –¢–∞–π–º–∞—É—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏
   - Graceful handling –Ω–µ—É–¥–∞—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å**: ~700 –ø–æ—Å—Ç–æ–≤/—Å–µ–∫
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –±–∞—Ç—á–∏–Ω–≥ —Å –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ø—Ä–æ–≥—Ä–µ—Å—Å –∫–∞–∂–¥—ã–µ 1000 –ø–æ—Å—Ç–æ–≤

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–µ–Ω—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```bash
# –õ–µ–Ω—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 1 (–≤–∏–¥–∏—Ç –ø–æ—Å—Ç—ã –¥—Ä—É–∑–µ–π 2,3,4,5 + —Å–≤–æ–∏)
curl 'http://localhost:8080/api/v1/feed?limit=10' -H 'X-User-ID: 1' | jq .

# –õ–µ–Ω—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 6 (–≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –ø–æ—Å—Ç—ã, –Ω–µ—Ç –¥—Ä—É–∑–µ–π)
curl 'http://localhost:8080/api/v1/feed?limit=10' -H 'X-User-ID: 6' -H 'X-User-ID: 6' | jq .
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã

```bash
# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—á–µ—Ä–µ–¥–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ª–µ–Ω—Ç
curl http://localhost:8080/api/v1/admin/queue/stats

# –ü–µ—Ä–µ—Å—Ç—Ä–æ–π–∫–∞ –≤—Å–µ—Ö –∫–µ—à–µ–π (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
curl -X POST http://localhost:8080/api/v1/admin/feed/rebuild-all
```

### –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö

```bash
# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å—Ç–æ–≤ –≤ –ë–î
psql -h localhost -U postgres -d social_network -c "SELECT COUNT(*) FROM post;"

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥—Ä—É–∂–±
psql -h localhost -U postgres -d social_network -c "SELECT COUNT(*) FROM friend WHERE status='approved';"

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
psql -h localhost -U postgres -d social_network -c "
SELECT user_id, COUNT(*) as posts_count 
FROM post 
GROUP BY user_id 
ORDER BY user_id;
"
```

## –ü—Ä–∏–º–µ—Ä—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤

```
–°–µ–≥–æ–¥–Ω—è –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–π –¥–µ–Ω—å! –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ. –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –æ—Ç–ª–∏—á–Ω–æ–µ! üòä

–¢–æ–ª—å–∫–æ —á—Ç–æ –ø–æ—Å–µ—Ç–∏–ª –≠—Ä–º–∏—Ç–∞–∂. –í–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã–µ! –†–µ–∫–æ–º–µ–Ω–¥—É—é –≤—Å–µ–º. üí≠ –ß—Ç–æ –¥—É–º–∞–µ—Ç–µ?

–ß–∏—Ç–∞—é –∏–Ω—Ç–µ—Ä–µ—Å–Ω—É—é –∫–Ω–∏–≥—É –ø—Ä–æ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—é. –ö—Ç–æ-–Ω–∏–±—É–¥—å –µ—â—ë —á–∏—Ç–∞–ª —á—Ç–æ-—Ç–æ –ø–æ–¥–æ–±–Ω–æ–µ? #–∂–∏–∑–Ω—å #–ø–æ–∑–∏—Ç–∏–≤

–ó–∞–≤—Ç—Ä–∞–∫–∞—é –±–ª–∏–Ω—ã –∏ –¥—É–º–∞—é –æ –ø–ª–∞–Ω–∞—Ö –Ω–∞ –¥–µ–Ω—å. –ö—Å—Ç–∞—Ç–∏, –∫—Ç–æ —á—Ç–æ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç –Ω–∞ –≤—ã—Ö–æ–¥–Ω—ã–µ? ‚ú® –ú–∞–≥–∏—è –º–æ–º–µ–Ω—Ç–∞!

–†–∞–±–æ—Ç–∞—é –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º —Å–≤—è–∑–∞–Ω–Ω—ã–º —Å –∏—Å–∫—É—Å—Å—Ç–≤–æ–º. –û—á–µ–Ω—å —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ! üéØ –¶–µ–ª—å –Ω–∞ —Å–µ–≥–æ–¥–Ω—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞!
```

## –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—ä–µ–º–æ–≤

–í —Ñ–∞–π–ª–µ `src/cmd/generate_test_data/main.go`:

```go
const (
    TOTAL_POSTS  = 100000  // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å—Ç–æ–≤
    MAX_USER_ID  = 10      // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
)
```

### –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥—Ä—É–∂–±

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥—Ä—É–∂–± –º–µ–∂–¥—É –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑–º–µ–Ω–∏—Ç–µ –ª–æ–≥–∏–∫—É –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `createFriendships()`.

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π

–õ–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –º–∞—Å—Å–∏–≤—ã `russianWords`, `russianPlaces`, `russianFood` –∏ `postTemplates` –¥–ª—è –±–æ–ª—å—à–µ–≥–æ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Ç–µ—Å—Ç–∞—Ö

–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏–¥–µ–∞–ª–µ–Ω –¥–ª—è:
- ‚úÖ –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ª–µ–Ω—Ç—ã
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–º–∞–º–∏
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã –æ—á–µ—Ä–µ–¥–µ–π Redis
- ‚úÖ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã
